# Redis이란 ?

레디스는 고성능 키-값 저장소로서 문자열, 리스트, 해시, 셋, 정렬된 셋 형식의 데이터를 지원하는 NoSQL 캐시 시스템이다.  Key-Value 타입

데이터베이스 , 캐시 , 메시지브로커로 사용됨

## Cash server ?

DB를 이용하면 매번 디스크에 접근해야 하기 떄문에 사용이 많을 수록
부하가 생겨  느려질 수 있다. 캐시는 한번 읽어온 데이터를 임의의 공간에
저장하고 읽을 때는 빠르게 결과값을 받을 수 있도록 도와주는 공간이다.
같은 요청이 와도 매번 DB를 거치는 것이 아닌 캐시 서버에서 첫 번쨰
요청 이후 저장된 결과 값을 바로 내려주기 때문에 DB의 부하를 줄이고
서비스의 속도도 느려지지 않는 장점이 있다.

## 캐시서버 패턴

### Look aside cache

1. 클라이언트가 데이터를 요청
2. 웹서버는 데이터 존재여부를 Cache 서버에 먼저 확인
3. Chache 서버에 있으면 DB조회 없이 Cache 서버의 결과값을 바로 리턴(Cache hit)
4. Cache 서버에 없으면 DB조회하여 결과값을 Cache 서버에 저장 후 반환

### Write Back

1. 웹서버는 모든 데이터를 Cache 서버에 저장
2. Cache 서버에 특정 시간 동안 데이터가 저장됨
3. Cache 서버에 있는 데이터를 DB에 저장
4. Db에 저장된 Cache 서버의 데이터를 삭제 

### 특징

영속성을 지원하는 인메모리 데이터 저장소
문자열, 리스트, 해시, 셋, 정렬된 셋과 같은 다양한 데이터형을 지원
속도가 빠르다.

서버 장애 발생 시 데이터 유실이 발생할 수 있다.
메모리 관리 필요
싱글 쓰레드 특성 상, 하나씩 처리, 오래 걸리는 명령은 피해야 함

### 영속성 : **프로그램이 종료되어도 사라지지 않는 데이터의 특성**

### 데이터를 DISK에 저장하는 방식

1. RDB(Snapshotting) 방식
    1. 순간적으로 메모리에 있는 내용을 Disk에 옮겨 담는 방식
2. AOF(Append On File) 방식
    1. Redis의 모든 write/update 연산 자체를 모두 log 파일에 기록하는 형태
