## Elastic Search ?

Apache Lucene 기반의 JAVA 오픈소스 분산 검색 엔진이다.
”데이터 저장소”가 아니라 MySQL 같은 DB를 대체할 수는 없다.

방대한 양의 데이터를 신속하고 거의 실시간으로 저장,검색,분석할 수 있다.
검색을 위해 단독 사용되기도 하며, ELK스택으로 사용되기도 한다.

## ELK 스택이란 ?

Elasticsearch : 분석 및 저장 기능
Logstash : 수집 기능
Kibana : 시각화 도구

## Elasticsearch 핵심 개념

### 클러스터

하나 이상의 노드가 모인 것이며, 전체 데이터를 저장하고 모든 노드를
포관하는 통합 색인화 및 검색 기능을 제공한다.

- 동일한 클러스터 이름을 서로 다른 환경에서 재사용 하면 안된다.
→ 노드가 잘못된 클러스터에 포함될 수 있기 때문

### 노드

노드는 클러스터에 포함된 단일 서버로서 데이터를 저장, 클러스터의 색인화
및 검색 기능에 참여. 노드의 이름은 클러스터의 어떤 노드인지 식별해야 하기 때문에 관리의 목적으로 중요하다.

### 인덱스 : 색인과정을 거친 결과물

색인은 다소 비슷한 특성을 가진 문서의 모음 / 데이터의 모음

### 타입

하나의 색인에서 하나 이상의 유형을 정의할 수 있다.

### 도큐먼트

색인화 할 수 있는 기본 정보 단위

### 샤드 & 리플리카

색인은 방대한 데이터를 저장 할 수 있는데 한드웨어 한도를 초과할 수도 있다. 이 문제를 해결하고자 색인을 shard라는 조각으로 분할하는 기능을 가진다. 각 샤드는 독립적인 색인이며 클러스터의 어떤 노드에서드 호스팅 할 수있다.

### why Shard ?

콘텐츠 볼륨의 수평 분할/ 확장 가능화
여러 샤드에 분산 배치 병렬화로 성능/ 처리량을 늘릴 수 있음

언제든 오류가 나올 수 있는 네트워크 환경에서는 샤드/노드가 오프라인
상태가 되거나 사라지게 될 경우에 대비하여 Fail-Over 매커니즘을 마련하는 게 매우 유익하다. ElasticSearch에서는 색인의 샤드에 대해 하나 이상의
복사본을 생성할 수 있는데 이를 replica shard, 줄여서 리플리카라고 한다.

## ElasticSearch Index와 RDBMS Index 구조 차이
Elastic Search의 Index는 Inverted-Index로 키워드가 어떤 Document에 저장 되있는지에 대하여 저장한다.
RDBMS는 보통 B+tree를 사용하며 특정 규칙에 따라 데이터가 저장된다.
Elastic Search 방식의 단점으로는 SQL DB보다 개별 레코드 검색 능력이 떨어지며 특히 데이터를 업데이트 할 때에 성능이 크게 떨어진다.

## Elastic Search 키워드 검색 vs RDBMS LIKE 검색
Elastic Search 키워드 검색
텍스트를 여러 단어로 변형하거나 텍스트 특질을 이용한 동의어, 유의어를 활용한 검색이 가능
비정형 데이터 검색 및 색인이 가능
형태소 분석을 통한 자연어 처리 가능
역색인 지원으로 매우 빠르게 검색
RDBMS LIKE 검색
단순 텍스트 매칭에 대한 검색만을 제공 (한글 검색의 경우 빈약)
비정형 데이터의 색인과 검색이 불가능
