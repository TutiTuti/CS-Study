## ****정규화(Normalization)이란?****

테이블 간에 중복된 데이터를 허용하지 않는다는 것,  무결성(Integrity)를 유지할 수 있으며
DB의 저장 용량 역시 줄일 수 있다. 

## 이상 현상 / 정규화를 거치지 않으면

데이터들이 불필요하게 중복되어 릴레이션(Table) 조작에 예기치 못한 문제 발생

애트리뷰트(속성)들의 종속관계를 하나의 릴레이션에 표현하기 때문에 발생

## 이상 종류

1. **삽입 이상 ( Insertion Anomaly )**
2. **삭제 이상 ( Delete Anomaly )**
3. **갱신 이상 ( Update Anomaly )**

## 정규화 목적

중복을 배제하여 삽입, 삭제, 갱신 이상의 발생을 방지

각 릴레이션에 중복된 종속성을 여러개의 릴레이션에 분할

어떠한 릴레이션이라도 DB내에서 표현 가능하게 함

데이터 삽입 시 릴레이션을 재구성할 필요성 감소

효과적인 검색 알고리즘 생성 가능

## 정규화 과정

### 1NF : First Normal Form

도메인이 **원자값**이어야 한다.

| 수강과목 | 수강자 |
| --- | --- |
| 수학 | 홍길동 |
| 과학 | 임꺽정, 신사임당 |
| 사회 | 홍길동, 임꺽정 |

| 수강과목 | 수강자1 | 수강자2 | 수강자3 |
| --- | --- | --- | --- |
| 국어 | 홍길동 |  |  |
| 수학 | 신사임당 | 홍길동 |  |
| 영어 | 고길동 | 신사임당 | 홍길동 |

(위)불만족 릴레이션    (아래) 만 릴레이션

| 수강과목 | 수강자1 | 수강자2 | 수강자3 |
| --- | --- | --- | --- |
| 국어 | 홍길동 |  |  |
| 수학 | 신사임당 | 홍길동 |  |
| 영어 | 고길동 | 신사임당 | 홍길동 |

**유사한 속성이 중복, 반복되는 경우도 정규화의 대상이 된다.**

## 2NF : Second Normal Form

부분적 **함수 종속을 제거**해야 한다 > 완전 함수 종속이 되어야 한다.

| 학번 | 이름 | 소속학과 | 학과장 |
| --- | --- | --- | --- |
| 1901 | 홍길동 | 컴퓨터과 | 김교수 |
| 1845 | 임꺽정 | 전자과 | 박교수 |
| 1706 | 신사임당 | 기계과 | 천교수 |
| 1925 | 장영실 | 컴퓨터과 | 김교수 |

(위)불만족 릴레이션    (아래) 만 릴레이션

| 학번 | 이름 | 소속학과 |
| --- | --- | --- |
| 1901 | 홍길동 | 컴퓨터과 |
| 1845 | 임꺽정 | 전자과 |
| 1706 | 신사임당 | 기계과 |
| 1925 | 장영실 | 컴퓨터과 |

| 학과 | 학과장 |
| --- | --- |
| 컴퓨터과 | 김교수 |
| 전자과 | 박교수 |
| 기계과 | 천교수 |

학과장은 ( 학과-학과장 ) 하나 만으로도 종속관계가 되므로 이는 부분적인 종속관계에
포함되 있다.  즉 학과장은 이 릴레이션에 포함될 필요도 없고, 포함되는 순간 ‘김교수’처럼
계속 중복적재 될 것이다.

## 3NF : Third Normal Form

**이행적 함수 종속을 제거**해야 한다. / A → B, B → C 일 때 A → C 인 관계

| 학번 | 이름 | 소속학과 | 대학 |
| --- | --- | --- | --- |
| 1901 | 홍길동 | 컴퓨터과 | 공대 |
| 1845 | 임꺽정 | 전자과 | 공대 |
| 1706 | 신사임당 | 경제 | 경상 |
| 1925 | 장영실 | 경영 | 경상 |

(위)불만족 릴레이션    (아래) 만 릴레이션

| 학번 | 이름 | 소속학과 |
| --- | --- | --- |
| 1901 | 홍길동 | 컴퓨터과 |
| 1845 | 임꺽정 | 전자과 |
| 1706 | 신사임당 | 경제 |
| 1925 | 장영실 | 경영 |

| 소속학과 | 대학 |
| --- | --- |
| 컴퓨터과 | 공대 |
| 전자과 | 공대 |
| 경제 | 경상 |
| 경영 | 경상 |

홍길동 → 컴퓨터과 , 컴퓨터과 → 공대 = 홍길동 → 공대 관계가 성립

## BCNF : Boyce and Codd Normal Form

BCNF을 만족 할려면 결정자 이면서 후보키가 아닌 것을 제거해야 한다.

| 학번 | 과목 | 교수 |
| --- | --- | --- |
| 100 | 데이터베이스 | 홍길동 |
| 100 | 자료구조 | 임꺽정 |
| 200 | 네트워크 | 장영실 |
| 300 | 인공지능 | 유관순 |

(학번 + 과목)은 교수를 결정 한다.
교수는 과목을 결정한다.
교수도 결정자인데 교수는 학번을 결정할 수는 없으므로 후보키는 아니다.

| 학번 | 과목코드 |
| --- | --- |
| 100 | DB01 |
| 100 | DS01 |
| 200 | NW01 |
| 300 | AI01 |

| 과목코드 | 과목 | 교수 |
| --- | --- | --- |
| DB01 | 데이터베이스 | 홍길동 |
| DS01 | 자료구조 | 임꺽정 |
| NW01 | 네트워크 | 장영실 |
| AI01 | 인공지능 | 유관순 |

## 4NF : Fourth Normal Form

**다치 종속성을 제거**해야 한다.

## 5NF : Fifth Normal Form

**조인 종속성을 제거**해야 한다.
