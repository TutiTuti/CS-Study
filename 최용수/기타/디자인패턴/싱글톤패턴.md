# 싱글톤 패턴이란 ?
객체의 인스턴스가 오직 1개만 생성되는 패턴을 의미한다.
```
public class Singleton {
    private static Singleton instance = new Singleton();
    private Singleton() {
        // 생성자는 외부에서 호출못하게 private 으로 지정해야 한다.
    }
    
    public static Singleton getInstance() {
        return instance;
    }

    public void say() {
        System.out.println("hi, there");
    }
}
```
## 싱글톤 패턴을 사용하는 이유 
메모리 측면으로 최초 한번의 new 연산자를 통해 고정된 메모리 영역을 사용하기 때문에 추후 해당 객체에 접근할 때     
메모리 낭비를 방지 할 수 있다. 뿐만 아니라 이미 생성된 인스턴스를 활용하니 속도 측면에서도 이점이 있다.   

또 다른 이점으로는 다른 클래스 간에 데이터 공유가 쉽다는 것이다.   
싱글톤 인스턴스가 전역으로 사용되는 인스턴스이기 때문에 다른 클래스의 인스턴스들이 접근하여 사용할 수 있다.   
하지만 여러 클래스가 동시에 접근하면 동시성 문제가 발생할 수 있으니 이점을 유의해서 설계하는 것이 좋다.   

### 싱글톤 패턴의 문제점
1. 싱글톤 패턴을 구현하는 코드 자체가 많이 필요하다.  정적 팩토리 메서드에서 객체 생성을 확인하고 생성자를 호출하는 경우   
  멀티스레딩 환경에서 발생할 수 있는 동시성 문제 해결을 위해 syncronized 키워드를 사용 해야 한다.
  syncronized  : syncronized 키워드가 붙은 메소드를 호출하는 순간 syncronized메소드에 lock이 걸려 다른 스레드가 호출할 수 없다.   
  
2. 테스트하기 어렵다.  싱글톤 인스턴스는 자원을 공유하고 있기 때문에 격리된 환경에서 수행되려면 매번 인스턴스의 상태를 초기화 해야한다.   
  그렇지 않으면 전역에서 상태공유를 하기 떄문에 테스트가 온전하게 수행되지 못한다.   
  
3. 의존 관계상 클라이언트가 구체 클래스에 의존하게 된다. new 키워드를 직접 사용하여 클래스 안에서 객체를 생성하고 있으므로,   
  이는 SOLID원칙 중 DIP을 위반하고 OCP원칙 또한 위반할 가능성이 높다.   
  SOLID원칙 : 객체지향 설계 5대원칙       
  SRP(단일책임원칙), OCP(개방폐쇄원칙), LSP(리스코프치환원칙), ISP(인터페이스분리원칙), DIP(의존역전원칙)이 있다.
  
그 밖에도 자식클래스를 만들수 없다는점, 내부 상태를 변경하기 어렵다는 점 등 여러가지 문제가 존재한다.
